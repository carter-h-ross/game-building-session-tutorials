sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    sprites.destroy(otherSprite)
    info.changeScoreBy(1)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    game.gameOver(true)
})
let pacdots: Sprite = null
scene.setBackgroundColor(15)
tiles.setCurrentTilemap(tilemap`level1`)
info.setScore(0)
let pacman = sprites.create(img`
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ......55555.........
    ....555555555.......
    ...55555555555......
    ...55555555555......
    ..5555555555........
    ..5555555...........
    ..5555..............
    ..5555555...........
    ..5555555555........
    ...55555555555......
    ...55555555555......
    ....555555555.......
    ......55555.........
    ....................
    `, SpriteKind.Player)
controller.moveSprite(pacman)
pacman.setStayInScreen(true)
let blinky = sprites.create(img`
    ................
    ................
    ................
    ................
    ......2222......
    ....22222222....
    ...2222222222...
    ..222222222222..
    ..221222222122..
    ..211122221112..
    .22118822881122.
    .22118822881122.
    .22211222211222.
    .22222222222222.
    .22222222222222.
    .22222222222222.
    .22.222..222.22.
    .2...22..22...2.
    ................
    ................
    `, SpriteKind.Enemy)
blinky.setPosition(147, 105)
blinky.follow(pacman, 40)
game.onUpdateInterval(2000, function () {
    pacdots = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . 1 1 1 . . . . . . . . . 
        . . . . 1 1 1 . . . . . . . . . 
        . . . . 1 1 1 . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Food)
    pacdots.setPosition(randint(0, 160), randint(0, 120))
})
